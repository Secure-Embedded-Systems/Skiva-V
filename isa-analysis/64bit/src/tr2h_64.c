#include <stdio.h>
#include <stdint.h>

uint64_t tr2h_64 (uint64_t rs1, uint64_t rs2) {
	uint64_t rd; 	
	rd = 	((rs1 & 0x8000000000000000)     )  | ((rs2 & 0x8000000000000000) >> 1)  | ((rs1 & 0x4000000000000000) >> 1)  | ((rs2 & 0x4000000000000000) >> 2)  |
		((rs1 & 0x2000000000000000) >> 2)  | ((rs2 & 0x2000000000000000) >> 3)  | ((rs1 & 0x1000000000000000) >> 3)  | ((rs2 & 0x1000000000000000) >> 4)  |
		((rs1 & 0x0800000000000000) >> 4)  | ((rs2 & 0x0800000000000000) >> 5)  | ((rs1 & 0x0400000000000000) >> 5)  | ((rs2 & 0x0400000000000000) >> 6)  |
		((rs1 & 0x0200000000000000) >> 6)  | ((rs2 & 0x0200000000000000) >> 7)  | ((rs1 & 0x0100000000000000) >> 7)  | ((rs2 & 0x0100000000000000) >> 8)  |
		((rs1 & 0x0080000000000000) >> 8)  | ((rs2 & 0x0080000000000000) >> 9)  | ((rs1 & 0x0040000000000000) >> 9)  | ((rs2 & 0x0040000000000000) >> 10) |
		((rs1 & 0x0020000000000000) >> 10) | ((rs2 & 0x0020000000000000) >> 11) | ((rs1 & 0x0010000000000000) >> 11) | ((rs2 & 0x0010000000000000) >> 12) |
		((rs1 & 0x0008000000000000) >> 12) | ((rs2 & 0x0008000000000000) >> 13) | ((rs1 & 0x0004000000000000) >> 13) | ((rs2 & 0x0004000000000000) >> 14) |
		((rs1 & 0x0002000000000000) >> 14) | ((rs2 & 0x0002000000000000) >> 15) | ((rs1 & 0x0001000000000000) >> 15) | ((rs2 & 0x0001000000000000) >> 16) |
		((rs1 & 0x0000800000000000) >> 16) | ((rs2 & 0x0000800000000000) >> 17) | ((rs1 & 0x0000400000000000) >> 17) | ((rs2 & 0x0000400000000000) >> 18) |
		((rs1 & 0x0000200000000000) >> 18) | ((rs2 & 0x0000200000000000) >> 19) | ((rs1 & 0x0000100000000000) >> 19) | ((rs2 & 0x0000100000000000) >> 20) |
		((rs1 & 0x0000080000000000) >> 20) | ((rs2 & 0x0000080000000000) >> 21) | ((rs1 & 0x0000040000000000) >> 21) | ((rs2 & 0x0000040000000000) >> 22) |
		((rs1 & 0x0000020000000000) >> 22) | ((rs2 & 0x0000020000000000) >> 23) | ((rs1 & 0x0000010000000000) >> 23) | ((rs2 & 0x0000010000000000) >> 24) |
		((rs1 & 0x0000008000000000) >> 24) | ((rs2 & 0x0000008000000000) >> 25) | ((rs1 & 0x0000004000000000) >> 25) | ((rs2 & 0x0000004000000000) >> 26) |
		((rs1 & 0x0000002000000000) >> 26) | ((rs2 & 0x0000002000000000) >> 27) | ((rs1 & 0x0000001000000000) >> 27) | ((rs2 & 0x0000001000000000) >> 28) |
		((rs1 & 0x0000000800000000) >> 28) | ((rs2 & 0x0000000800000000) >> 29) | ((rs1 & 0x0000000400000000) >> 29) | ((rs2 & 0x0000000400000000) >> 30) |
		((rs1 & 0x0000000200000000) >> 30) | ((rs2 & 0x0000000200000000) >> 31) | ((rs1 & 0x0000000100000000) >> 31) | ((rs2 & 0x0000000100000000) >> 32) ;

	return rd;
}

int main (int argc, char *argv[]) {

	uint64_t rs1 = 0xffffffffffffffff; 		
	uint64_t rs2 = 0;
	uint64_t rd;

	rd = tr2h_64 (rs1, rs2);

	printf("result: %016lx\n", rd);
	
	return 0;
}

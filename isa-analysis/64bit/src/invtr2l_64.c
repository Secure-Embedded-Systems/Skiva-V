#include <stdio.h>
#include <stdint.h>

uint64_t invtr2l_64 (uint64_t rs1, uint64_t rs2) {
	uint64_t rd; 	
	rd = 	((rs2 & 0x0000000000000001)     )  | ((rs2 & 0x0000000000000004) >> 1)  | ((rs2 & 0x0000000000000010) >> 2)  | ((rs2 & 0x0000000000000040) >> 3)  |
		((rs2 & 0x0000000000000100) >> 4)  | ((rs2 & 0x0000000000000400) >> 5)  | ((rs2 & 0x0000000000001000) >> 6)  | ((rs2 & 0x0000000000004000) >> 7)  |
		((rs2 & 0x0000000000010000) >> 8)  | ((rs2 & 0x0000000000040000) >> 9)  | ((rs2 & 0x0000000000100000) >> 10) | ((rs2 & 0x0000000000400000) >> 11) |
		((rs2 & 0x0000000001000000) >> 12) | ((rs2 & 0x0000000004000000) >> 13) | ((rs2 & 0x0000000010000000) >> 14) | ((rs2 & 0x0000000040000000) >> 15) |
		((rs2 & 0x0000000100000000) >> 16) | ((rs2 & 0x0000000400000000) >> 17) | ((rs2 & 0x0000001000000000) >> 18) | ((rs2 & 0x0000004000000000) >> 19) |
		((rs2 & 0x0000010000000000) >> 20) | ((rs2 & 0x0000040000000000) >> 21) | ((rs2 & 0x0000100000000000) >> 22) | ((rs2 & 0x0000400000000000) >> 23) |
		((rs2 & 0x0001000000000000) >> 24) | ((rs2 & 0x0004000000000000) >> 25) | ((rs2 & 0x0010000000000000) >> 26) | ((rs2 & 0x0040000000000000) >> 27) |
		((rs2 & 0x0100000000000000) >> 28) | ((rs2 & 0x0400000000000000) >> 29) | ((rs2 & 0x1000000000000000) >> 30) | ((rs2 & 0x4000000000000000) >> 31) |
		((rs1 & 0x0000000000000001) << 32) | ((rs1 & 0x0000000000000004) << 31) | ((rs1 & 0x0000000000000010) << 30) | ((rs1 & 0x0000000000000040) << 29) |
		((rs1 & 0x0000000000000100) << 28) | ((rs1 & 0x0000000000000400) << 27) | ((rs1 & 0x0000000000001000) << 26) | ((rs1 & 0x0000000000004000) << 25) |
		((rs1 & 0x0000000000010000) << 24) | ((rs1 & 0x0000000000040000) << 23) | ((rs1 & 0x0000000000100000) << 22) | ((rs1 & 0x0000000000400000) << 21) |
		((rs1 & 0x0000000001000000) << 20) | ((rs1 & 0x0000000004000000) << 19) | ((rs1 & 0x0000000010000000) << 18) | ((rs1 & 0x0000000040000000) << 17) |
		((rs1 & 0x0000000100000000) << 16) | ((rs1 & 0x0000000400000000) << 15) | ((rs1 & 0x0000001000000000) << 14) | ((rs1 & 0x0000004000000000) << 13) |
		((rs1 & 0x0000010000000000) << 12) | ((rs1 & 0x0000040000000000) << 11) | ((rs1 & 0x0000100000001000) << 10) | ((rs1 & 0x0000400000000000) << 9)  |
		((rs1 & 0x0001000000000000) << 8)  | ((rs1 & 0x0004000000000000) << 7)  | ((rs1 & 0x0010000000100000) << 6)  | ((rs1 & 0x0040000000000000) << 5)  |
		((rs1 & 0x0100000000000000) << 4)  | ((rs1 & 0x0400000000000000) << 3)  | ((rs1 & 0x1000000010000000) << 2)  | ((rs1 & 0x4000000000000000) << 1)  ;

	return rd;
}

int main (int argc, char *argv[]) {

	uint64_t rs1 = 0x5555555555555555; 		
	uint64_t rs2 = 0x5555555555555555; 		
	uint64_t rd;

	rd = invtr2l_64 (rs1, rs2);

	printf("result: %016lx\n", rd);
	
	return 0;
}

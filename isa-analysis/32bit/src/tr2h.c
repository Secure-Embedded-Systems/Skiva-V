#include <stdio.h>
#include <stdint.h>

uint32_t tr2h (uint32_t rs1, uint32_t rs2) {
	uint32_t rd; 	
	rd = (rs1 & 0x80000000) | ((rs2 & 0x80000000) >> 1) | ((rs1 & 0x40000000) >> 1) | ((rs2 & 0x40000000) >> 2) |
		((rs1 & 0x20000000) >> 2) | ((rs2 & 0x20000000) >> 3) | ((rs1 & 0x10000000) >> 3) | ((rs2 & 0x10000000) >> 4) |
		((rs1 & 0x08000000) >> 4) | ((rs2 & 0x08000000) >> 5) | ((rs1 & 0x04000000) >> 5) | ((rs2 & 0x04000000) >> 6) |
		((rs1 & 0x02000000) >> 6) | ((rs2 & 0x02000000) >> 7) | ((rs1 & 0x01000000) >> 7) | ((rs2 & 0x01000000) >> 8) |
		((rs1 & 0x00800000) >> 8) | ((rs2 & 0x00800000) >> 9) | ((rs1 & 0x00400000) >> 9) | ((rs2 & 0x00400000) >> 10) |
		((rs1 & 0x00200000) >> 10) | ((rs2 & 0x00200000) >> 11) | ((rs1 & 0x00100000) >> 11) | ((rs2 & 0x00100000) >> 12) |
		((rs1 & 0x00080000) >> 12) | ((rs2 & 0x00080000) >> 13) | ((rs1 & 0x00040000) >> 13) | ((rs2 & 0x00040000) >> 14) |
		((rs1 & 0x00020000) >> 14) | ((rs2 & 0x00020000) >> 15) | ((rs1 & 0x00010000) >> 15) | ((rs2 & 0x00010000) >> 16) ;
	return rd;
}

int main (int argc, char *argv[]) {

	uint32_t rs1 = 0xffffffff; 		
	uint32_t rs2 = 0;
	uint32_t rd;

	rd = tr2h (rs1, rs2);

	printf("result: %08x\n", rd);
	
	return 0;
}

#include <stdio.h>
#include <stdint.h>

uint32_t invtr2h (uint32_t rs1, uint32_t rs2) {
	uint32_t rd; 	
	rd = ((rs2 & 0x00000002) >> 1) | ((rs2 & 0x00000008) >> 2) | ((rs2 & 0x00000020) >> 3) | ((rs2 & 0x00000080) >> 4) |
		((rs2 & 0x00000200) >> 5) | ((rs2 & 0x00000800) >> 6) | ((rs2 & 0x00002000) >> 7) | ((rs2 & 0x00008000) >> 8) |
		((rs2 & 0x00020000) >> 9) | ((rs2 & 0x00080000) >> 10) | ((rs2 & 0x00200000) >> 11) | ((rs2 & 0x00800000) >> 12) |
		((rs2 & 0x02000000) >> 13) | ((rs2 & 0x08000000) >> 14) | ((rs2 & 0x20000000) >> 15) | ((rs2 & 0x80000000) >> 16) |
		((rs1 & 0x00000002) << 15) | ((rs1 & 0x00000008) << 14) | ((rs1 & 0x00000020) << 13) | ((rs1 & 0x00000080) << 12) |
		((rs1 & 0x00000200) << 11) | ((rs1 & 0x00000800) << 10) | ((rs1 & 0x00002000) << 9) | ((rs1 & 0x00008000) << 8) |
		((rs1 & 0x00020000) << 7) | ((rs1 & 0x00080000) << 6) | ((rs1 & 0x00200000) << 5) | ((rs1 & 0x00800000) << 4) |
		((rs1 & 0x02000000) << 3) | ((rs1 & 0x08000000) << 2) | ((rs1 & 0x20000000) << 1) | (rs1 & 0x80000000);

	return rd;
}

int main (int argc, char *argv[]) {

	uint32_t rs1 = 0x55555555; 		
	uint32_t rs2 = 0x55555555; 		
	uint32_t rd;

	rd = invtr2h (rs1, rs2);

	printf("result: %08x\n", rd);
	
	return 0;
}
